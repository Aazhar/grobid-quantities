<text xmlns="http://www.tei-c.org/ns/1.0"><p>Ship weather routing develops an optimum track for ocean voyages based on weather forecasts, sea conditions, and ship's characteristics. Within specified limits of weather and sea conditions, the term optimum is used to mean maximum safety and crew confort, minimum fuel and oil consumption, minimum time or distance underway, or any desired combination of these factors. Whatever the objectives considered, weather routing problem may be resolved in <measure type="value" ptr="#1b81d7c6-d4aa-49b3-94c1-a45bd8f42940">four</measure> <quantifiedObject id="1b81d7c6-d4aa-49b3-94c1-a45bd8f42940">stages</quantifiedObject>. Medium-range weather forecasts are used to know the conditions that will encounter the boat during his journey. Reliability of the forecast data is one of the most important topics because the best code is useless if the weather conditions are not well known [11]. The stochastic behavior of weather may also be taken into account using ensemble forecasts [17,8]. Then, the performances of the ship taking into account weather and sea conditions have to be predicted. Various kinds of models may be used to compute ship behavior from the simple speed/consumption law to the most advanced finite element model. They may come from:  Mapping: cartographies are built from towing tank and wind tunnel tests to estimate resistances acting on the hull and sail thrust. They are perhaps the best at incorporating real world details but are limited by the inaccuracies of scale effect and measurement errors.  Computational Fluid Dynamics such as potential flow or Reynolds-Averaged Navier Stockes codes are also practical to model ship's behavior in a seaway. These methods are now mature to provide high resolution data but are time consuming [12].  Parametric models are now well known [9,11,3] but their identification still remains problematic [4] and costly.</p><p>Generally they can be divided into <measure type="value" ptr="#2fef48b9-2484-4388-b82a-3a7717e680ad">two</measure> <quantifiedObject id="2fef48b9-2484-4388-b82a-3a7717e680ad">types</quantifiedObject>: deterministic and stochastic algorithms. Genetic or evolutionary algorithms are now common to solve weather routing problem [7,2,16]. The main advantage is the multi-objective nature of the algorithm allowing to optimize conflictive objectives under constraints.</p><p>In the <measure type="interval">1980's</measure>, after the oil crises, the use of the clean wind energy was proved to be the most efficient way to reduce the use of fossil energy in ship propulsion. Because of the urgent need to reduce the CO 2 and NO x emissions, recent projects of ships use wind renewable energy as assistance to the main propulsion system [20,15,14]. The work presented here takes place in the      project Grand Large 1 consisting in the introduction of an automated system of sail adjustment. In this context a scheme is proposed to compute the route of a sailassisted motor vessel that maximizes the energy contribution of the sails in the propulsion while avoiding rough sea conditions. The main originality of our work resides in:  The spherical tuneable uniform discretization of the research space using a systematic meshing procedure controlled by few physical parameters.  The robust optimization loop taking into account various constrains and objectives: navigability, Estimated Time of Sailing (ETS), Estimated Fuel Consumption (EFC). Moreover the chain is not disrupted by the vessel modeling.</p><p>The automatic meshing method we used is based on spherical rhombus where <measure type="value">two</measure> of the opposite vertexes are the departure and the arrival points. The main advantages of this discretization of the sailing area are :  The genericity of its construction taking into account the sea-beds geography, the time dependant meteorological data and the characteristics of the vessel.  The systematic gridding of the explored area with few physical parameters.  The automation of its calculation leading to optimizable routes.  The possible reactualization of the rhombus to change the routing policy during the sailing.</p><p>In this part 񮽙 denotes the departure point, ′ the arrival one and 񮽙 is the center of Earth considered spherical. The <measure type="value">two</measure> remain vertexes of the rhombus are denoted by 񮽙 and 񮽙. This notation is recalled in figure 1.</p><p>We define MOA = í»½ . This angle is the image of the orthodromic distance between 񮽙 and 񮽙 . Knowing the maximal speed of the vessel 񮽙 , imposed by the design of the hull and the power train characteristics, and the <measure type="value">1</measure> http://avel-vor.fr/Projet_Grand_Largue/index.html desired time of sailing 񮽙 , the maximal distance that can cross the vessel during the time window is : .</p><p>The previous construction is extended in order to define the 񮽙 񮽙 level of the meshing. For that purpose, 񮽙 planes 񮽙 񮽙 are defined, with ∈ 1, 񮽙 񮽙 − 2]. In each level i.e. plane 񮽙 񮽙 , the 񮽙 í»¿ 񮽙 level's nodes are defined (Fig.2 ). They are built such as the orthodromic distance 񮽙 񮽙 between <measure type="value" ptr="#f56f05ca-869b-46a8-8a10-591de6bf6032">2</measure> <quantifiedObject id="f56f05ca-869b-46a8-8a10-591de6bf6032">nodes of</quantifiedObject> each level is constant.</p><p>In order to locate the vessel both in time and space, the seabed velocity on the course is set. As a result along each facet of the route, the time dependent weather data are known. Moreover ETS is easily calculable. The target speeds of the vessel 񮽙 񮽙 are included between <measure type="value" ptr="#992cff76-f764-4972-a9f9-51e40b8dfa3b">two</measure> <quantifiedObject id="992cff76-f764-4972-a9f9-51e40b8dfa3b">boundaries :</quantifiedObject> 񮽙 񮽙 and 񮽙 񮽙 . The number of target speed is 񮽙 . Each target speed is valid on several segments of the discretized route.</p><p>The calculation of the resistances acting on the hull and the thrust developed by the rig is obtained from the literature [7]. Since no information were available about the propulsion system (engine, shaft and propeller), we choose a <measure type="value" ptr="#e254667e-714f-46aa-86f7-d8d5c26ae865">8񮽙</measure> diameter <quantifiedObject id="e254667e-714f-46aa-86f7-d8d5c26ae865">fixed pitch Wageningen B5-75 screw series propeller, Carlton</quantifiedObject> [5] and a <measure type="value">10000</measure> Wärtsilä engine [15]. A new scheme of consumption calculation is proposed (Fig. 6) to integrate the parametric model in the optimization chain. As presented earlier, both the geography and the velocity are defined for a route, as a result, the inputs of the consumption calculation are the GPS position of the boat and the desired seabed velocities 񮽙 񮽙 . Classically, the composition between true wind and seabed velocity of the vessel leads to the apparent wind. In order to get the desired seabed velocity, the current effects must be compensated if the resulting relative speed does not exceed the limitation due to the vessel design i.e. the maximal speed of the vessel 񮽙 .</p><p>In order to investigate the benefits of the hybrid propulsion, an intensive sensitivity study has been conducted. To illustrate the wind contribution, figure 7 represented the fuel consumption for each propulsion for different true-wind direction (ϕ 񮽙 ) and seabed speed (V 񮽙 ). In this calculation, the remaining sea state and the meteorological data are constant. As expected, the rig provides a great assistance to the engine for aft wind. For a true wind speed V <quantifiedObject id="5dc20154-2796-4dc0-a71a-4c3f35c0b2d1">񮽙 of</quantifiedObject> <measure type="value" ptr="#5dc20154-2796-4dc0-a71a-4c3f35c0b2d1">25 kt</measure>, the fuel consumption is reduced by <measure type="value" ptr="#f9392d7a-8b18-4f99-959b-7db383790c83">44%</measure> for the ship with hybrid propulsion for <quantifiedObject id="5e158cb3-dc0e-4664-a73c-9eeb2d1f80d4">a seabed velocity of</quantifiedObject> <measure type="value" ptr="#5e158cb3-dc0e-4664-a73c-9eeb2d1f80d4">12 kt</measure> and ϕ 񮽙 = <measure type="value">100°</measure>. For V 񮽙 = <measure type="value">17 kt</measure>, the fuel saving falls to <measure type="value">23%</measure>. To step forward towards the optimum, deterministic methods use function values, gradients and higher derivations to define a new set of design variables. These algorithms are fast but tend to stick to local optima. Stochastic methods always produce a portion of their designs by a random process. This enables them to avoid premature convergence at local optima. In return, an optimization mostly takes more time.</p><p>We chose as optimization algorithm the Multi-Objective Genetic Algorithm (MOGA) [6] available in the technical software ModeFrontier. MOGA's search method presents <measure type="value" ptr="#60a81df0-33ba-4314-982b-7010c21e0dc9">two</measure> very <quantifiedObject id="60a81df0-33ba-4314-982b-7010c21e0dc9">interesting aspects</quantifiedObject>:  It allows a global search in all the directions from design space that produces a rich data base.  It guarantees a multi-objective optimization where the Pareto frontier is defined at the end [16].</p><p>A numerical optimization of westbound north Atlantic route between Brest [-5.33 48]° and New York [-68.08 41.78]° is given hereafter to illustrate the optimal weather routing benefits for sail-assisted sea transport. With <quantifiedObject id="4d19893c-bd2e-49c1-8ef5-399b2e3af903">reference to</quantifiedObject> the ship route under investigation, the number of levels is 񮽙 񮽙 = <measure type="value" ptr="#4d19893c-bd2e-49c1-8ef5-399b2e3af903">12</measure>, the distance between nodes of a level is 񮽙 񮽙 = <measure type="value">100 km</measure> and the number of course changes per hour is 񮽙 = <measure type="value">1/4 h −1</measure> . The number of target speeds is 񮽙 = <measure type="value">8</measure>. The meteorological conditions used were provided by <quantifiedObject id="e42a8dd0-76f5-4ab5-a796-4f54b244285b">the NOAA in</quantifiedObject> the periods from the <measure type="interval" ptr="#e42a8dd0-76f5-4ab5-a796-4f54b244285b">03/23/09, 18:00 to 03/28/09, 11:00 GMT</measure>. With this discretization of the research space, the number of free variables is <measure type="value">18</measure>. <measure type="value" ptr="#cbe51627-a395-442f-ad30-9b3db313f80b">10</measure> <quantifiedObject id="cbe51627-a395-442f-ad30-9b3db313f80b">variables</quantifiedObject> define the geography of the route and <measure type="value">8</measure> are used to set the velocity along the trajectory. For the <quantifiedObject id="630c8243-44a9-4c90-873a-2ada58e98d4b">set-up</quantifiedObject> <measure type="value" ptr="#630c8243-44a9-4c90-873a-2ada58e98d4b">2</measure> objectives are considered: ETS and EFC. A constraint on ETS is also fixed at <measure type="value" ptr="#76063dea-01a9-40f0-80d3-20a7ce390b5d">220 h</measure> in order to avoid low seabed speeds.</p><p><measure type="value" ptr="#c2637fe3-f411-4cea-a60d-27a041b33505">Two</measure> <quantifiedObject id="c2637fe3-f411-4cea-a60d-27a041b33505">optimizations</quantifiedObject> have been conducted on this routing example. First a parametric motor vessel model has been used. Then the same vessel model with a sail-assisted propulsion has been considered. The initial population of routes is generated by a quasi-random sequence (SOBOL) of <measure type="value" ptr="#6a854ffc-719c-4034-a975-e8d79cc0bb15">200</measure> <quantifiedObject id="6a854ffc-719c-4034-a975-e8d79cc0bb15">designs</quantifiedObject>. The numerical evaluation of the performance calls upon MATLAB code is not so expensive in terms of <quantifiedObject id="58bfac73-f5ea-46c3-9ac6-be4a72790e12">computing time</quantifiedObject> (about <measure type="value" ptr="#58bfac73-f5ea-46c3-9ac6-be4a72790e12">3s</measure>). In an attempt to solve the optimization problem in an acceptable timeframe, the number of generations evaluated is almost <measure type="value">50</measure>, i.e. <measure type="value">10000</measure> designs in all. The required computation time for the global optimization process is about <measure type="value">8 hours</measure> (<measure type="value" ptr="#feadbd7f-2485-4adc-b816-8037b2752098">2.0 GHz</measure> / 2.0 Gb <quantifiedObject id="feadbd7f-2485-4adc-b816-8037b2752098">RAM</quantifiedObject>). Integrating a Response Surface Methodology to reduce the computation time could be an interesting extension of our work. Of the <measure type="value" ptr="#87d5466d-d823-4d31-a95d-e01844dc7288">10000</measure> <quantifiedObject id="87d5466d-d823-4d31-a95d-e01844dc7288">routes analyzed</quantifiedObject> for each propulsion configuration, <measure type="value">149</measure> were Pareto-optimal with respect to the others for the hybrid vessel and <measure type="value" ptr="#d8675b5e-71e3-473a-be0f-2a5ac4efa60a">128</measure> for the motor vessel. Figure 9 shows the projection of these <measure type="value" ptr="#c1d1aa7f-a8df-401f-8820-8336afb493e0">two</measure> <quantifiedObject id="c1d1aa7f-a8df-401f-8820-8336afb493e0">resulting Pareto-fronts</quantifiedObject> onto EFC/ETS domain. The wide shape of the <measure type="value" ptr="#e09db259-83db-4be1-b947-5cd2c434f248">two</measure> <quantifiedObject id="e09db259-83db-4be1-b947-5cd2c434f248">Pareto-fronts</quantifiedObject> confirms the conflicting nature of the <measure type="value" ptr="#cb5796cd-1cb7-4617-99d7-d68c42d8543f">two</measure> <quantifiedObject id="cb5796cd-1cb7-4617-99d7-d68c42d8543f">objectives</quantifiedObject>. This figure stresses the improvement that can be obtained for the <measure type="value" ptr="#d9c686d1-291b-446f-844f-b1fd24b73aae">two</measure> <quantifiedObject id="d9c686d1-291b-446f-844f-b1fd24b73aae">objectives</quantifiedObject> by an hybrid propulsion.</p><p>The shortest route in <quantifiedObject id="15cbb1d4-6a42-46d6-b2cb-769d76dca2dd">distance sailed</quantifiedObject> by a motor vessel at a constant speed in <measure type="value" ptr="#15cbb1d4-6a42-46d6-b2cb-769d76dca2dd">200 h</measure> is taken as a reference. This trajectory is denoted by route 1 on figure 9. The route 2 is the same trajectory roamed by an hybrid vessel. For the meteorological conditions encountered, a reduction of <measure type="value" ptr="#823d73a2-0b68-4016-8096-d261663365bd">26%</measure> of the consumption may be achieved with no optimization of the route geography (Table 3). The MOGA can be regarded as a mean of generating a set of optimal solutions for the Decision Marker to base his preference choice on. Of the optimal solutions of the motor vessel Pareto-front, route 3 is identified as being the best route to minimize the EFC while respecting the constraint on ETS fixed at <measure type="value">200 h</measure>. The improvement on the EFC objective is about <measure type="value">9 %</measure> compared to route 1 (Table 3) Figure 10 illustrates the geographical distribution of the resulting optimal routes. The routes have been drawn on the true wind field <measure type="value" ptr="#d1cb5320-1425-43fe-9f2e-ebfcab7aa5d5">165h</measure> after departure. For the whole journey, the maximal speed of wind was <measure type="value">48 kt</measure> and the maximal wave height was <measure type="value">5.3 m</measure>. It can be observed that the optimal motor vessel route tries to avoid rough sea conditions while keeping the sailed distance the lower possible. The sail-assisted motor vessel has crossed a longer distance since the optimization loop tries to get the most efficient direction of relative wind besides avoiding areas of high waves. Figure 10. True wind field <measure type="value">165h</measure> after departure</p></text>